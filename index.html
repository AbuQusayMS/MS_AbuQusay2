<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="description" content="ูุณุงุจูุฉ ูุนูููุงุช ุชูุงุนููุฉ ูุงุฎุชุจุงุฑ ุซูุงูุชู ูู ูุณุชููุงุช ูุชุนุฏุฏุฉ - ุชุญุฏู ููุชุน ููููุฏ">
  <meta name="keywords" content="ูุณุงุจูุฉ, ุฃุณุฆูุฉ, ูุนูููุงุช ุนุงูุฉ, ูุนุจุฉ, ุงุฎุชุจุงุฑ, ุซูุงูุฉ">
  <title>๐ง ูุณุงุจูุฉ ุงููุนูููุงุช | ุชุญุฏูู ุงููุนุฑูุฉ</title>

  <!-- Favicon and Preconnects -->
  <link rel="icon" type="image/png" href="https://em-content.zobj.net/thumbs/120/apple/354/brain_1f9e0.png">
  <link rel="apple-touch-icon" href="https://em-content.zobj.net/thumbs/120/apple/354/brain_1f9e0.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <!-- External Libraries -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.css">
  <link rel="stylesheet" href="style.css">

  <!-- SEO and Metadata -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "VideoGame",
    "name": "๐ง ูุณุงุจูุฉ ุงููุนูููุงุช",
    "description": "ูุนุจุฉ ูุณุงุจูุฉ ุชูุงุนููุฉ ูุงุฎุชุจุงุฑ ุงููุนูููุงุช ูู ูุณุชููุงุช ูุชุนุฏุฏุฉ ูู ุงูุณูู ุฅูู ุงููุณุชุญูู",
    "applicationCategory": "GameApplication",
    "operatingSystem": "Web Browser",
    "author": {
      "@type": "Person",
      "name": "MS AbuQusay"
    },
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "gamePlatform": "Web Browser"
  }
  </script>
</head>
<body data-theme="dark" style="overflow-x: hidden; -webkit-overflow-scrolling: touch;">
  <noscript>
    <div style="text-align: center; padding: 2rem; font-family: Cairo, sans-serif;">
      <h2>โ๏ธ ุชูุนูู JavaScript ูุทููุจ</h2>
      <p>ูุฐู ุงููุนุจุฉ ุชุชุทูุจ ุชูุนูู JavaScript ูุชุดุบูููุง ุจุดูู ุตุญูุญ.</p>
    </div>
  </noscript>

  <!-- Toast Notifications -->
  <div id="toast-container" class="toast-container" aria-live="assertive" aria-atomic="true"></div>

  <!-- Floating Action Button for Reporting -->
  <button id="reportErrorFab" class="report-fab" role="button" aria-label="ุงูุฅุจูุงุบ ุนู ูุดููุฉ" title="ุงูุฅุจูุงุบ ุนู ูุดููุฉ">
    <span aria-hidden="true">โ๏ธ</span>
  </button>

  <!-- ========== SCREENS ========== -->
  
  <!-- Loading Screen -->
  <div id="loader" class="screen active" role="status" aria-label="ุฌุงุฑู ุงูุชุญููู">
    <div class="loader-content">
      <div class="spinner" aria-hidden="true"></div>
      <p id="loaderText" class="game-subtitle">ุฌุงุฑู ุชุญููู ุงููุนุจุฉ...</p>
      <div class="loader-progress" aria-hidden="true">
        <div class="progress-bar">
          <div class="progress-fill"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Start Screen -->
  <div id="startScreen" class="screen">
    <div class="content-box">
      <header class="screen-header">
        <h1 class="game-title">๐ง ูุณุงุจูุฉ ุงููุนูููุงุช</h1>
        <p class="game-subtitle">ุงุฎุชุจุฑ ูุฏุฑุงุชู ูู ูุณุงุจูุฉ ุชูุงุนููุฉ ุดููุฉ</p>
        <div class="feature-highlights">
          <span class="feature-tag">๐ฏ 4 ูุณุชููุงุช</span>
          <span class="feature-tag">โญ ูุธุงู ููุงุท</span>
          <span class="feature-tag">๐ ููุญุฉ ุตุฏุงุฑุฉ</span>
        </div>
      </header>
      <div class="button-group">
        <button id="startBtn" class="btn-main" data-action="showAvatarScreen">
          <span class="btn-content">ุงุจุฏุฃ ุงููุนุจ</span>
        </button>
        <button class="btn-secondary" data-action="showLeaderboard">
          <span class="btn-content">ููุญุฉ ุงูุตุฏุงุฑุฉ</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Avatar Selection Screen -->
  <div id="avatarScreen" class="screen">
    <div class="content-box">
      <header class="screen-header">
        <h2>๐ค ุงุฎุชุฑ ุตูุฑุชู ุงูุฑูุฒูุฉ</h2>
        <p class="screen-subtitle">ููููู ุงุฎุชูุงุฑ ุตูุฑุฉ ุงูุชุฑุงุถูุฉ ุฃู ุฑูุน ุตูุฑุฉ ุดุฎุตูุฉ</p>
      </header>
      <div class="avatar-grid" role="group" aria-label="ุฎูุงุฑุงุช ุงูุตูุฑ ุงูุฑูุฒูุฉ"></div>
      <div class="button-group">
        <button id="confirmAvatarBtn" class="btn-main" disabled data-action="showNameEntryScreen">
          <span class="btn-content">ุงูุชุงูู</span>
        </button>
        <button class="btn-secondary" data-action="showStartScreen">
          <span class="btn-content">ุฑุฌูุน</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Name Entry Screen -->
  <div id="nameEntryScreen" class="screen">
    <div class="content-box">
      <header class="screen-header">
        <h2>โ๏ธ ุฃุฏุฎู ุงุณูู</h2>
        <p class="screen-subtitle">ุณูุธูุฑ ูุฐุง ุงูุงุณู ูู ููุญุฉ ุงูุตุฏุงุฑุฉ</p>
      </header>
      <div class="form-group">
        <label for="nameInput" class="form-label">ุงุณู ุงููุงุนุจ</label>
        <input type="text" id="nameInput" class="form-input" placeholder="ูุซุงู: ุนุจุฏ ุงููู" maxlength="20" autocomplete="name" aria-required="true" aria-describedby="nameError">
        <div id="nameError" class="error-message" aria-live="polite"></div>
        <div class="form-hint">ูุฌุจ ุฃู ูููู ุจูู 3 ู 20 ุญุฑูุงู</div>
      </div>
      <div class="button-group">
        <button id="confirmNameBtn" class="btn-main" disabled data-action="confirmName">
          <span class="btn-content">ุชุฃููุฏ ุงูุฅุณู</span>
        </button>
        <button class="btn-secondary" data-action="showAvatarScreen">
          <span class="btn-content">ุฑุฌูุน</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Instructions Screen -->
  <div id="instructionsScreen" class="screen screen--align-top">
    <div class="content-box">
      <header class="screen-header">
        <h2>๐ ุฅุฑุดุงุฏุงุช ุงููุนุจ</h2>
        <p class="screen-subtitle">ุชุนุฑู ุนูู ููุงุนุฏ ุงููุณุงุจูุฉ ูุจู ุงูุจุฏุก</p>
      </header>
      
      <div class="instructions-content">
        <div class="instruction-section">
          <h3 class="instruction-title">๐ฏ ูุธุงู ุงููุนุจ</h3>
          <div class="instruction-item">
            <span class="instruction-icon">โฑ๏ธ</span>
            <div class="instruction-text">
              <strong>ุงูููุช:</strong> ูู ุณุคุงู ูู ููุช ูุญุฏุฏ ููุฅุฌุงุจุฉ
            </div>
          </div>
          <div class="instruction-item">
            <span class="instruction-icon">โ๏ธ</span>
            <div class="instruction-text">
              <strong>ุงูููุงุท:</strong>
              <ul class="instruction-list">
                <li>ุฅุฌุงุจุฉ ุตุญูุญุฉ: <span class="positive">+100 ููุทุฉ</span></li>
                <li>ุฅุฌุงุจุฉ ุฎุงุทุฆุฉ: <span class="negative">-100 ููุทุฉ</span></li>
              </ul>
            </div>
          </div>
        </div>

        <div class="instruction-section">
          <h3 class="instruction-title">๐๏ธ ุงููุณุงุนุฏุงุช</h3>
          <div class="instruction-item">
            <span class="instruction-icon">โญ๏ธ</span>
            <div class="instruction-text">
              <strong>ุชุฎุทู ุงูุณุคุงู:</strong> ูุฌุงููุฉ ุชูุงูุงู
            </div>
          </div>
          <div class="instruction-item">
            <span class="instruction-icon">๐ฏ</span>
            <div class="instruction-text">
              <strong>50:50:</strong> ุฅุฒุงูุฉ ุฎูุงุฑูู ุฎุงุทุฆูู (100 ููุทุฉ)
            </div>
          </div>
          <div class="instruction-item">
            <span class="instruction-icon">โ๏ธ</span>
            <div class="instruction-text">
              <strong>ุชุฌููุฏ ุงูููุช:</strong> ุฅููุงู ุงููุคูุช 10 ุซูุงูู (100 ููุทุฉ)
            </div>
          </div>
        </div>

        <div class="instruction-section">
          <h3 class="instruction-title">๐ ุงููุณุชููุงุช</h3>
          <div class="levels-grid">
            <div class="level-badge easy">ุณูู</div>
            <div class="level-badge medium">ูุชูุณุท</div>
            <div class="level-badge hard">ุตุนุจ</div>
            <div class="level-badge impossible">ูุณุชุญูู</div>
          </div>
        </div>
      </div>

      <div class="button-group">
        <button class="btn-main" data-action="postInstructionsStart">
          <span class="btn-content">ุญุณูุงูุ ููุจุฏุฃ!</span>
        </button>
        <button class="btn-secondary" data-action="showNameEntryScreen">
          <span class="btn-content">ุฑุฌูุน</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Main Game Screen -->
  <main id="gameContainer" class="screen" role="main">
    <div class="top-bar">
      <button class="end-quiz-btn" aria-label="ุฅููุงุก ุงููุณุงุจูุฉ" data-action="showConfirmExitModal">
        <span class="btn-icon">๐ช</span>
        <span class="btn-text">ุฅููุงุก</span>
      </button>
      
      <div class="level-progress" aria-label="ุชูุฏู ุงููุณุชููุงุช">
        <div class="level-indicator" data-level="easy" aria-label="ุงููุณุชูู ุงูุณูู">
          <span class="level-number">1</span>
          <span class="level-name">ุณูู</span>
        </div>
        <div class="level-indicator" data-level="medium" aria-label="ุงููุณุชูู ุงููุชูุณุท">
          <span class="level-number">2</span>
          <span class="level-name">ูุชูุณุท</span>
        </div>
        <div class="level-indicator" data-level="hard" aria-label="ุงููุณุชูู ุงูุตุนุจ">
          <span class="level-number">3</span>
          <span class="level-name">ุตุนุจ</span>
        </div>
        <div class="level-indicator" data-level="impossible" aria-label="ุงููุณุชูู ุงููุณุชุญูู">
          <span class="level-number">4</span>
          <span class="level-name">ูุณุชุญูู</span>
        </div>
      </div>
      
      <button class="theme-toggle-btn" aria-label="ุชุจุฏูู ูุถุน ุงูุณุทูุน ูุงูุธูุงู" data-action="toggleTheme">
        <span class="theme-icon">โ๏ธ</span>
      </button>
    </div>

    <header class="game-header">
      <div class="player-info">
        <div class="player-main">
          <img id="playerAvatar" src="" alt="ุงูุตูุฑุฉ ุงูุฑูุฒูุฉ ููุงุนุจ" class="player-avatar" loading="lazy" decoding="async">
          <div class="player-details">
            <span id="playerName" class="player-name" aria-label="ุงุณู ุงููุงุนุจ"></span>
            <span id="playerId" class="player-id" aria-label="ูุนุฑู ุงููุงุนุจ"></span>
          </div>
        </div>
        
        <div class="player-stats">
          <div class="stat-item">
            <span class="stat-label">ุงูููุงุท:</span>
            <strong id="currentScore" class="stat-value" aria-live="polite">100</strong>
          </div>
          <div class="stat-item">
            <span class="stat-label">ุงูุฃุฎุทุงุก:</span>
            <strong id="wrongAnswersCount" class="stat-value error" aria-live="assertive">0 / 3</strong>
          </div>
          <div class="stat-item">
            <span class="stat-label">ุงูุชุฎุทู:</span>
            <strong id="skipCount" class="stat-value">0</strong>
          </div>
        </div>
      </div>

      <div class="helpers" role="toolbar" aria-label="ุฎูุงุฑุงุช ุงููุณุงุนุฏุฉ">
        <button class="helper-btn" data-type="fiftyFifty" aria-describedby="fiftyFiftyDesc">
          <span class="helper-icon">50:50</span>
          <span class="helper-cost">100</span>
        </button>
        
        <button class="helper-btn" data-type="freezeTime" aria-describedby="freezeTimeDesc">
          <span class="helper-icon">โ๏ธ 10ุซ</span>
          <span class="helper-cost">100</span>
        </button>
        
        <button class="helper-btn" data-type="skipQuestion" aria-describedby="skipQuestionDesc">
          <span class="helper-icon">โญ๏ธ</span>
          <span class="helper-cost free">ูุฌุงูู</span>
        </button>

        <div class="sr-only">
          <span id="fiftyFiftyDesc">ูุฒูู ุฎูุงุฑูู ุฎุงุทุฆูู. ุงูุงุณุชุฎุฏุงู ูุฑุฉ ูุงุญุฏุฉ ููู ุฌููุฉ. ุงูุชูููุฉ 100 ููุทุฉ.</span>
          <span id="freezeTimeDesc">ูููู ุงููุคูุช 10 ุซูุงูู. ุงูุงุณุชุฎุฏุงู ูุฑุฉ ูุงุญุฏุฉ ููู ุฌููุฉ. ุงูุชูููุฉ 100 ููุทุฉ.</span>
          <span id="skipQuestionDesc">ุชุฎุทู ุงูุณุคุงู ุงูุญุงูู. ูุฌุงููุฉ ุชูุงูุงู.</span>
        </div>
      </div>
    </header>

    <div class="timer-container" aria-label="ูุคูุช ุงูุณุคุงู">
      <div class="timer-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="100">
        <div class="timer-fill"></div>
      </div>
      <span class="timer-text" aria-live="polite">80</span>
    </div>

    <div class="main-content">
      <section class="question-box" aria-labelledby="questionCounter questionText">
        <div class="question-header">
          <div class="level-badge current" id="currentLevelBadge">ุณูู</div>
          <h3 id="questionCounter" class="question-counter">ุงูุณุคุงู 1 ูู 10</h3>
        </div>
        <div class="question-content">
          <p id="questionText" class="question-text" aria-live="polite"></p>
        </div>
      </section>
      
      <section class="options-container">
        <div class="options-grid" role="group" aria-label="ุฎูุงุฑุงุช ุงูุฅุฌุงุจุฉ"></div>
      </section>
    </div>
  </main>

  <!-- Level Complete Screen -->
  <div id="levelCompleteScreen" class="screen">
    <div class="content-box">
      <header class="screen-header">
        <h2 id="levelCompleteTitle" class="success-title">๐ ุฃูููุช ุงููุณุชูู!</h2>
        <p class="screen-subtitle">ุฃุญุณูุช! ุงุณุชุนุฏ ูููุณุชูู ุงูุชุงูู</p>
      </header>
      
      <div class="level-stats">
        <div class="stat-card">
          <div class="stat-icon">โญ</div>
          <div class="stat-info">
            <span class="stat-label">ุงูููุงุท ุงูุญุงููุฉ</span>
            <strong id="levelScore" class="stat-value">0</strong>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">โ</div>
          <div class="stat-info">
            <span class="stat-label">ุนุฏุฏ ุงูุฃุฎุทุงุก</span>
            <strong id="levelErrors" class="stat-value">0</strong>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">โ</div>
          <div class="stat-info">
            <span class="stat-label">ุงูุฅุฌุงุจุงุช ุงูุตุญูุญุฉ</span>
            <strong id="levelCorrect" class="stat-value">0</strong>
          </div>
        </div>
      </div>
      
      <div class="button-group">
        <button class="btn-main" data-action="nextLevel">
          <span class="btn-content">ุงููุณุชูู ุงูุชุงูู</span>
        </button>
        <button class="btn-secondary" data-action="endGame">
          <span class="btn-content">ุงูุงูุณุญุงุจ ูุนุฑุถ ุงููุชุงุฆุฌ</span>
        </button>
      </div>
    </div>
  </div>

  <!-- End Screen -->
  <div id="endScreen" class="screen screen--align-top">
    <div class="content-box">
      <header class="screen-header">
        <h2 class="success-title">๐ ุงููุชุงุฆุฌ ุงูููุงุฆูุฉ</h2>
        <p class="screen-subtitle">ุชูุงูููุง ุนูู ุฅููุงู ุงููุณุงุจูุฉ!</p>
      </header>
      
      <div class="final-stats">
        <div class="stats-grid">
          <div class="final-stat">
            <span class="stat-icon">โ๏ธ</span>
            <div class="stat-details">
              <span class="stat-label">ุงูุงุณู</span>
              <strong id="finalName" class="stat-value"></strong>
            </div>
          </div>
          
          <div class="final-stat">
            <span class="stat-icon">๐</span>
            <div class="stat-details">
              <span class="stat-label">ุงููุนุฑูู</span>
              <strong id="finalId" class="stat-value"></strong>
            </div>
          </div>
          
          <div class="final-stat">
            <span class="stat-icon">๐ข</span>
            <div class="stat-details">
              <span class="stat-label">ุฑูู ุงููุญุงููุฉ</span>
              <strong id="finalAttemptNumber" class="stat-value"></strong>
            </div>
          </div>
          
          <div class="final-stat">
            <span class="stat-icon">โ</span>
            <div class="stat-details">
              <span class="stat-label">ุงูุฅุฌุงุจุงุช ุงูุตุญูุญุฉ</span>
              <strong id="finalCorrect" class="stat-value"></strong>
            </div>
          </div>
          
          <div class="final-stat">
            <span class="stat-icon">โ</span>
            <div class="stat-details">
              <span class="stat-label">ุงูุฅุฌุงุจุงุช ุงูุฎุงุทุฆุฉ</span>
              <strong id="finalWrong" class="stat-value"></strong>
            </div>
          </div>
          
          <div class="final-stat">
            <span class="stat-icon">โญ๏ธ</span>
            <div class="stat-details">
              <span class="stat-label">ูุฑุงุช ุงูุชุฎุทู</span>
              <strong id="finalSkips" class="stat-value"></strong>
            </div>
          </div>
          
          <div class="final-stat highlight">
            <span class="stat-icon">โญ</span>
            <div class="stat-details">
              <span class="stat-label">ุงูููุงุท ุงูููุงุฆูุฉ</span>
              <strong id="finalScore" class="stat-value"></strong>
            </div>
          </div>
          
          <div class="final-stat">
            <span class="stat-icon">โฑ๏ธ</span>
            <div class="stat-details">
              <span class="stat-label">ุงูููุช ุงููุณุชุบุฑู</span>
              <strong id="totalTime" class="stat-value"></strong>
            </div>
          </div>
          
          <div class="final-stat">
            <span class="stat-icon">๐</span>
            <div class="stat-details">
              <span class="stat-label">ุงููุณุชูู ุงูุฐู ูุตูุช ุฅููู</span>
              <strong id="finalLevel" class="stat-value"></strong>
            </div>
          </div>
          
          <div class="final-stat">
            <span class="stat-icon">๐ฏ</span>
            <div class="stat-details">
              <span class="stat-label">ูุณุจุฉ ุงูุฏูุฉ</span>
              <strong id="finalAccuracy" class="stat-value"></strong>
            </div>
          </div>
          
          <div class="final-stat">
            <span class="stat-icon">โณ</span>
            <div class="stat-details">
              <span class="stat-label">ูุชูุณุท ููุช ุงูุฅุฌุงุจุฉ</span>
              <strong id="finalAvgTime" class="stat-value"></strong>
            </div>
          </div>
        </div>
        
        <div class="performance-rating">
          <div class="rating-card">
            <span class="rating-icon">๐</span>
            <div class="rating-details">
              <span class="rating-label">ุชูููู ุฃุฏุงุฆู</span>
              <strong id="performanceText" class="rating-value"></strong>
            </div>
          </div>
        </div>
      </div>

      <section class="share-section" aria-labelledby="shareTitle">
        <h3 id="shareTitle" class="share-title">๐ข ูุดุงุฑูุฉ ุงููุชุงุฆุฌ</h3>
        <div class="share-buttons">
          <button class="share-btn x" data-action="shareOnX" aria-label="ูุดุงุฑูุฉ ุนูู X">
            <span class="share-icon">๐</span>
            <span class="share-text">X</span>
          </button>
          <button class="share-btn instagram" data-action="shareOnInstagram" aria-label="ูุดุงุฑูุฉ ุนูู Instagram">
            <span class="share-icon">๐ท</span>
            <span class="share-text">Instagram</span>
          </button>
        </div>
      </section>

      <div class="cooldown-notice" id="retryHint">
        <div class="cooldown-content">
          <span class="cooldown-icon">โณ</span>
          <div class="cooldown-text">
            ููููู ุงููุญุงููุฉ ูุฌุฏุฏูุง ุจุนุฏ <b id="retryCountdown">30</b> ุซุงููุฉ
          </div>
        </div>
      </div>
      
      <div class="button-group">
        <button id="playAgainBtn" class="btn-main" data-action="playAgain">
          <span class="btn-content">ุฃุนุฏ ุงููุนุจ</span>
        </button>
        <button class="btn-secondary" data-action="showLeaderboard">
          <span class="btn-content">ููุญุฉ ุงูุตุฏุงุฑุฉ</span>
        </button>
        <button class="btn-secondary" data-action="showStartScreen">
          <span class="btn-content">ุงูุนูุฏุฉ ููุฑุฆูุณูุฉ</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Leaderboard Screen -->
  <div id="leaderboardScreen" class="screen screen--align-top">
    <div class="content-box">
      <header class="screen-header">
        <h2>๐ ููุญุฉ ุงูุตุฏุงุฑุฉ</h2>
        <p class="screen-subtitle">ุฃูุถู ุงููุงุนุจูู ูุฃุนูู ุงููุชุงุฆุฌ</p>
      </header>
     
      <div class="lb-filters">
        <div class="filter-group">
          <label for="lbMode" class="filter-label">ููุท ุงูุชุฑุชูุจ:</label>
          <select id="lbMode" class="filter-select" aria-label="ููุท ุชุฑุชูุจ ุงูููุญุฉ">
            <option value="all">ุฌููุน ุงููุชุงุฆุฌ</option>
            <option value="best" selected>ุฃูุถู ูุชูุฌุฉ</option>
            <option value="attempt">ุญุณุจ ุงููุญุงููุฉ</option>
            <option value="accuracy">ุฃุนูู ุฏูุฉ</option>
            <option value="time">ุฃูู ููุช</option>
          </select>
        </div>
        
        <div class="filter-group">
          <label for="lbAttempt" class="filter-label">ุฑูู ุงููุญุงููุฉ:</label>
          <select id="lbAttempt" class="filter-select" disabled aria-label="ุงุฎุชุฑ ุฑูู ุงููุญุงููุฉ">
            <option value="">ุฌุงุฑู ุงูุชุญููู...</option>
          </select>
        </div>
      </div>
     
      <div id="leaderboardContent" class="leaderboard-content" aria-live="polite">
        <div class="loading-state">
          <div class="spinner small"></div>
          <p>ุฌุงุฑู ุชุญููู ููุญุฉ ุงูุตุฏุงุฑุฉ...</p>
        </div>
      </div>
      
      <div class="button-group">
        <button class="btn-secondary" data-action="showStartScreen">
          <span class="btn-content">ุงูุนูุฏุฉ ููุฑุฆูุณูุฉ</span>
        </button>
      </div>
    </div>
  </div>

  <!-- ========== MODALS ========== -->

  <!-- Confirm Exit Modal -->
  <div id="confirmExitModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="confirmExitTitle">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="confirmExitTitle" class="modal-title">โ๏ธ ุฅููุงุก ุงููุณุงุจูุฉ</h3>
      </div>
      <div class="modal-body">
        <p>ุณูุชู ุญูุธ ููุงุทู ุงูุญุงููุฉ ูุญุณุงุจ ูุชูุฌุชู ุงูููุงุฆูุฉ.</p>
        <p class="modal-hint">ูู ุฃูุช ูุชุฃูุฏ ูู ุฑุบุจุชู ูู ุงููุชุงุจุนุฉุ</p>
      </div>
      <div class="modal-buttons">
        <button class="btn-main" data-action="endGame">
          <span class="btn-content">ูุนูุ ุฃููู ุงููุณุงุจูุฉ</span>
        </button>
        <button class="btn-secondary" data-action="closeModal" data-modal-id="confirmExitModal">
          <span class="btn-content">ูุงุ ุงุณุชูุฑ ูู ุงููุนุจ</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Advanced Report Modal -->
  <div id="advancedReportModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="advancedReportTitle">
    <div class="modal-content large">
      <div class="modal-header">
        <h3 id="advancedReportTitle" class="modal-title">๐ฉ ุงูุฅุจูุงุบ ุนู ูุดููุฉ</h3>
        <p class="modal-subtitle">ุณุงุนุฏูุง ูู ุชุญุณูู ุชุฌุฑุจุฉ ุงููุนุจ</p>
      </div>
      
      <form id="reportProblemForm" class="modal-form">
        <div class="form-group">
          <label for="problemType" class="form-label">ููุน ุงููุดููุฉ:</label>
          <select id="problemType" name="problemType" class="form-select" required>
            <option value="">ุงุฎุชุฑ ููุน ุงููุดููุฉ...</option>
            <option value="technical">ูุดููุฉ ุชูููุฉ (ุชุฌูุฏุ ุจุทุก)</option>
            <option value="question_error">ุฎุทุฃ ูู ุงูุณุคุงู ุฃู ุงูุฅุฌุงุจุฉ</option>
            <option value="translation_error">ุฎุทุฃ ูู ุงูุชุฑุฌูุฉ</option>
            <option value="inappropriate_content">ูุญุชูู ุบูุฑ ููุงุณุจ</option>
            <option value="account_issue">ูุดููุฉ ูู ุงูุญุณุงุจ ุฃู ุงูููุงุท</option>
            <option value="ui_ux">ูุงุฌูุฉ/ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู</option>
            <option value="performance">ุงูุฃุฏุงุก/ุงูุณุฑุนุฉ</option>
            <option value="suggestion">ุงูุชุฑุงุญ ูุชุญุณูู ุงููุนุจุฉ</option>
            <option value="other">ุฃุฎุฑู</option>
          </select>
        </div>

        <div class="form-group">
          <label for="problemLocation" class="form-label">ุฃูู ุธูุฑุช ุงููุดููุฉุ</label>
          <select id="problemLocation" name="problemLocation" class="form-select">
            <option value="unspecified">ูู ุฃุญุฏุฏ...</option>
            <option value="start">ุดุงุดุฉ ุงูุจุฏุงูุฉ</option>
            <option value="avatar">ุงุฎุชูุงุฑ ุงูุตูุฑุฉ ุงูุฑูุฒูุฉ</option>
            <option value="name">ุฅุฏุฎุงู ุงูุงุณู</option>
            <option value="instructions">ุดุงุดุฉ ุงูุชุนูููุงุช</option>
            <option value="game">ุฃุซูุงุก ุงููุนุจ</option>
            <option value="level_complete">ุฅููุงู ุงููุณุชูู</option>
            <option value="end">ุดุงุดุฉ ุงููุชุงุฆุฌ</option>
            <option value="leaderboard">ููุญุฉ ุงูุตุฏุงุฑุฉ</option>
          </select>
        </div>

        <div class="form-group">
          <label for="problemDescription" class="form-label">ูุตู ุงููุดููุฉ:</label>
          <textarea id="problemDescription" name="problemDescription" class="form-textarea" placeholder="ูุฑุฌู ูุตู ุงููุดููุฉ ุจุงูุชูุตูู... ูุง ุงูุฐู ุญุฏุซุ ูุชูุ ููู ูููููุง ุฅุนุงุฏุฉ ุฅูุชุงุฌ ุงููุดููุฉุ" required rows="4"></textarea>
          <div class="form-hint">ูููุง ูุงูุช ุงูุชูุงุตูู ุฃุฏูุ ุณุงุนุฏุชูุง ุฃูุซุฑ ูู ุญู ุงููุดููุฉ</div>
        </div>

        <div class="form-group">
          <label for="problemScreenshot" class="form-label">ุฅุฑูุงู ุตูุฑุฉ/ููุทุฉ ุดุงุดุฉ:</label>
          <div class="file-upload">
            <input type="file" id="problemScreenshot" class="file-input" accept="image/*">
            <label for="problemScreenshot" class="file-label">
              <span class="file-icon">๐</span>
              <span class="file-text">ุงุฎุชุฑ ุตูุฑุฉ</span>
            </label>
          </div>
          <div class="form-hint">ุงุฎุชูุงุฑู - ุญุฌู ุงูููู ุงูุฃูุตู 5MB</div>
          
          <div id="reportImagePreview" class="image-preview">
            <img alt="ูุนุงููุฉ ุงูุตูุฑุฉ ุงููุฑููุนุฉ"/>
            <button type="button" class="remove-image" aria-label="ุฅุฒุงูุฉ ุงูุตูุฑุฉ">ร</button>
          </div>
        </div>

        <div class="form-group checkbox-group">
          <label class="checkbox-label">
            <input type="checkbox" id="includeAutoDiagnostics" checked>
            <span class="checkmark"></span>
            <span class="checkbox-text">ุฅุฑูุงู ูุนูููุงุช ุงูุชุดุฎูุต ุงูุชููุงุฆู</span>
          </label>
          <div class="form-hint">ูุณุงุนุฏูุง ูู ุชุญุฏูุฏ ุณุจุจ ุงููุดููุฉ ุจุดูู ุฃุฏู</div>
        </div>

        <div class="modal-buttons">
          <button type="submit" class="btn-main">
            <span class="btn-content">ุฅุฑุณุงู ุงูุจูุงุบ</span>
          </button>
          <button type="button" class="btn-secondary" data-action="closeModal" data-modal-id="advancedReportModal">
            <span class="btn-content">ุฅูุบุงุก</span>
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Avatar Editor Modal -->
  <div id="avatarEditorModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="avatarEditorTitle">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="avatarEditorTitle" class="modal-title">๐จ ุชุนุฏูู ุงูุตูุฑุฉ ุงูุฑูุฒูุฉ</h3>
        <p class="modal-subtitle">ูู ุจูุต ุงูุตูุฑุฉ ูุฌุนููุง ูุฑุจุนุฉ ุงูุดูู</p>
      </div>
      
      <div class="modal-body">
        <div id="image-editor-container" class="image-editor">
          <img id="image-to-crop" src="" alt="ุตูุฑุฉ ููุชูููู">
        </div>
      </div>
      
      <div class="modal-buttons">
        <button class="btn-main" data-action="saveCroppedAvatar">
          <span class="btn-content">๐พ ุญูุธ ุงูุตูุฑุฉ</span>
        </button>
        <button class="btn-secondary" data-action="closeModal" data-modal-id="avatarEditorModal">
          <span class="btn-content">ุฅูุบุงุก</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Player Details Modal -->
  <div id="playerDetailsModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="playerDetailsTitle">
    <div class="modal-content large">
      <div class="modal-header">
        <div class="player-modal-header">
          <img id="detailsAvatar" src="" alt="ุตูุฑุฉ ุงููุงุนุจ ุงูุฑูุฒูุฉ" class="player-modal-avatar">
          <div class="player-modal-info">
            <h3 id="playerDetailsTitle" class="modal-title">๐ค ุชูุงุตูู ุงููุงุนุจ</h3>
            <div id="detailsName" class="player-modal-name"></div>
            <div id="detailsPlayerId" class="player-modal-id"></div>
          </div>
        </div>
      </div>
      
      <div class="modal-body">
        <div id="playerDetailsContent" class="player-details-body">
          <!-- ุณูุชู ุชุนุจุฆุชู ุฏููุงููููุงู -->
        </div>
      </div>
      
      <div class="modal-buttons">
        <button class="btn-secondary" data-action="closeModal" data-modal-id="playerDetailsModal">
          <span class="btn-content">ุฅุบูุงู</span>
        </button>
      </div>
    </div>
  </div>

  <!-- External Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js" defer></script>

  <!-- App JS -->
  <script src="script.js?v=20" defer></script>
</body>
</html>
